<ion-app>
    <ion-split-pane contentId="main-content">
        <ion-menu contentId="main-content" type="overlay" side="end" (ionWillOpen)="onMenuOpen()">

            <!-- User Avatar and Name-->
            <ion-item lines="none" style="padding:10px 5px;">
                
                <!--Avatar-->
                <ion-label>

                    <!--"UserName-->
                    <div id="username">{{currentUser.FirstName}} {{currentUser.LastName}}</div>

                    <!-- "Edit Profile"-->
                    <ion-menu-toggle autohide="false">
                        <div id="editprofile" routerDirection="root" [routerLink]="['/profile']" style="outline:none">
                            <b>EDIT PROFILE </b>
                            <ion-icon name="create"></ion-icon>
                        </div>
                    </ion-menu-toggle>

                </ion-label>

                <!--Navigation Menu-->
            </ion-item>
            <ion-content>
                <ion-list style="padding-left:8%; position: relative;">
                    <ion-menu-toggle auto-hide="false">
                        <div *ngFor="let p of appPages">
                            <ion-item lines="none" detail='false' [routerDirection]="'root'" [routerLink]="[p.url]" class="ion-align-self-center">

                                <ion-label>
                                    <ion-grid>
                                        <ion-row>
                                            <ion-col size="9">
                                                <div style="margin-left: 0px; font-size:4.5vw;"><b>{{p.title}}</b></div>
                                            </ion-col>
                                            <ion-col size="3">
                                                <div *ngIf="p.title == 'Notifications' && numberOfUnreadNotifications && !this.study != false" class="notifications"><b>{{numberOfUnreadNotifications}}</b></div>
                                            </ion-col>
                                        </ion-row>
                                    </ion-grid>
                                </ion-label>
                            </ion-item>

                        </div>
                        <ion-item lines="none" detail='false' [routerDirection]="'root'" [routerLink]=""
                            (click)="logout()">
                            <ion-label>
                                <ion-grid>
                                    <ion-row>
                                        <ion-col size="9">
                                            <div style="margin-left: 0px; font-size:4.5vw;"><b>Logout </b></div>
                                        </ion-col>
                                        <ion-col size= "3"></ion-col>
                                    </ion-row>
                                </ion-grid>
                            </ion-label>
                        </ion-item>
                    </ion-menu-toggle>
                </ion-list>

                <!--Study Mode Button and Text-->
                <ion-toggle class="studyToggle" mode="ios" (ionChange)="updateDriverStudyMode($event)"
                    [checked]="study"></ion-toggle>

                <!--STUDY MODE ON/OFF-->
                <p id=p01 ion-text color="light" style="font-size:12px">
                    <b>STUDY MODE:</b>
                    <b id="showOFF">{{ study ? ' ON' : ' OFF' }}</b></p>

            </ion-content>
        </ion-menu>
        <ion-router-outlet id="main-content"></ion-router-outlet>
    </ion-split-pane>
</ion-app>